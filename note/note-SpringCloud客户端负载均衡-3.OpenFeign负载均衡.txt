1.硬编码实现OpenFeign负载均衡(对所有的FeignClient进行更细致的配置,在Ribbon相关配置中配置连接超时等属性)
     1.pom中引入依赖
        <dependency>
            <groupId>org.springframework.cloud</groupId>
            <artifactId>spring-cloud-starter-openfeign</artifactId>
        </dependency>
     2>.容器中注入不用注入RestTemplate,OpenFeign已经在底层对RestTemplate做了封装
     3>.在服务消费端编写OpenFeignService,Service中方法和服务提供端一样
        @Component
        @FeignClient(name="SPRINGCLOUD-PROVIDER-PAYMENT-SERVICE-CLUSTER")
        public interface PaymentServiceOpenFeign {
            @PostMapping(value = "/provider/payment/create")
            CommonResult create(@RequestBody Payment payment);

            @GetMapping(value = "/provider/payment/get/{id}")
            CommonResult<Payment> getPaymentById(@PathVariable("id") Long id);

            @GetMapping(value = "/provider/payment/openfeign/timeout")
            String getPaymentByIdOpenFeignTimeout();
        }
     4>.主启动类添加注解@EnableFeignClients
2.YML文件配置+硬编码实现实现OpenFeign负载均衡(可以对每一个不同的FeignClient进行更细致的配置,在Feign相关配置中配置连接超时等属性)
     1.pom中引入依赖
         <dependency>
             <groupId>org.springframework.cloud</groupId>
             <artifactId>spring-cloud-starter-openfeign</artifactId>
         </dependency>
     2>.容器中注入不用注入RestTemplate,OpenFeign已经在底层对RestTemplate做了封装
     3>.在服务消费端编写OpenFeignService,Service中方法和服务提供端一样
        @Component
        @FeignClient(name="SPRINGCLOUD-PROVIDER-PAYMENT-SERVICE-CLUSTER")
        public interface PaymentServiceOpenFeign {
            @PostMapping(value = "/provider/payment/create")
            CommonResult create(@RequestBody Payment payment);

            @GetMapping(value = "/provider/payment/get/{id}")
            CommonResult<Payment> getPaymentById(@PathVariable("id") Long id);

            @GetMapping(value = "/provider/payment/openfeign/timeout")
            String getPaymentByIdOpenFeignTimeout();
        }
     4>.YML中添加配置
         feign:
           client:
             config:
               #这里填具体的服务名称（也可以填default，表示对所有服务生效）
               SPRINGCLOUD-PROVIDER-PAYMENT-SERVICE-CLUSTER:  #服务提供方名称
                 #connectTimeout和readTimeout这两个得一起配置才会生效
                 connectTimeout: 5000  #指的是建立连接所用的时间，适用于网络状况正常的情况下,两端连接所用的时间
                 readTimeout: 5000   #指的是建立连接后从服务器读取到可用资源所用的时间
     5>.主启动类添加注解@EnableFeignClients
3.OpenFeign增强日志
    YML文件中添加如下配置,可以在控制台输出远程调用详细信息
    logging: #OpenFeign增强日志配置
      level:
        org.openatom.springcloud.services.PaymentServiceOpenFeign: debug  #OpenFeign日志以什么级别监控哪个接口